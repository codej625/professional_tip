# JWT(JSON Web Token)

<br /><br />

1. JWT이란?
---

```
엑세스 토큰과 리프레시 토큰을 사용해서 인증을 받는것을 말한다.
물론, JSON으로 요청하고 응답한다.
```

<br /><br /><br />

2. 토큰의 종류
---

```
엑세스 토큰 (Access Token)

엑세스 토큰은 주로 클라이언트가 서버로 보내어 특정 리소스에 접근할 수 있도록 하는 토큰이다.
일반적으로 짧은 유효 기간을 가지며,
보통 몇 분에서 몇 시간까지 유효할 수 있다.
엑세스 토큰은 사용자가 인증되었음을 나타내며,
사용자의 권한과 함께 요청된 리소스에 접근할 수 있는 권한을 부여한다.
예를 들어, 클라이언트가 서버에게 엑세스 토큰을 포함한 요청을 보내면,
서버는 이 토큰을 검증하여 해당 요청을 처리하고 결과를 반환한다.
```

<br />

```
리프레시 토큰 (Refresh Token)

리프레시 토큰은 보통 엑세스 토큰이 만료되었을 때,
새로운 엑세스 토큰을 발급받기 위해 사용되는 특별한 종류의 토큰이다.
주로 긴 유효 기간을 가지며, 엑세스 토큰을 갱신할 때 사용된다.
보통 하루에서 몇 달까지 유효할 수 있다.
클라이언트는 리프레시 토큰을 사용하여 새로운 엑세스 토큰을 요청하고,
인증 서버는 리프레시 토큰의 유효성을 검증하고 새로운 엑세스 토큰을 발급한다.
```

<br /><br /><br />

3. 작동 순서
---

```
1) 로그인 요청

클라이언트가 사용자 이름과 비밀번호를 포함한 로그인 요청을 서버에 보낸다.
```

<br /><br />

```
2) 인증 서버의 응답

서버는 사용자 인증을 수행하고,
유효한 경우에는 엑세스 토큰과 리프레시 토큰을 함께 응답한다.
이 토큰들은 일반적으로 JSON 형식으로 되어 있다.
```
```json
{
  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "token_type": "Bearer",
  "expires_in": 3600
}
```
```
access_token: 엑세스 토큰으로, 리소스에 접근할 수 있는 권한을 나타낸다.
refresh_token: 리프레시 토큰으로, 엑세스 토큰이 만료되었을 때 새로운 엑세스 토큰을 얻기 위해 사용.
token_type: 보통 "Bearer"로 설정(요청에 따라 달라질 수 있다.
expires_in: 엑세스 토큰의 유효 기간을 나타낸다. (초 단위)
```

<br /><br />

```
3) 토큰 저장

클라이언트는 이 토큰들을 안전한 곳에 저장.
일반적으로 웹 애플리케이션의 경우는 브라우저의 로컬 스토리지 또는 세션 스토리지에 저장하고,
네이티브 앱의 경우는 안전한 키체인 또는 저장소에 저장한다.
```

<br /><br />

```
4) 토큰 사용

클라이언트는 엑세스 토큰을 HTTP 요청의 헤더나 URL 매개변수로 전송하여 보호된 리소스에 접근.
서버는 이 토큰을 검증하여 사용자의 권한을 확인하고 요청을 처리한다.
```

<br /><br />

```
5) 토큰 갱신

엑세스 토큰이 만료되면 클라이언트는 리프레시 토큰을 사용하여 새로운 엑세스 토큰을 요청하고,
서버는 이 요청을 검증하고 새로운 엑세스 토큰을 발급.
```
