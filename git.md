# 긴급 상황에 기억 안 나는 깃 명령어 모음

<br />
<br />

* 간혹 커밋이나 커밋 메시지를 실수할 때가 있다.
---

```
급하게 업무를 하다 보면 하지 말아야 할 커밋이나
커밋 메시지를 이상하게 적고 커밋하는 경우가 생긴다.

이런 상황에서 간단하게 변경하는 방법을 알아보자.
```

<br />
<br />
<br />
<br />

1. 커밋 되돌리기

```
// 가장 최근 커밋을 취소하지만, 작업한 내용은 그대로 유지한다.

git reset --soft HEAD~1
```

<br />
<br />
<br />

2. 커밋 메시지 되돌리기

```
// 가장 최근의 메시지 수정하기

git commit --amend
```

<br />
<br />
<br />

3. Stash (임시저장)

```
git stash는 커밋하지 않은 변경 사항을 임시로 저장하는 Git 명령어로,
다른 작업을 할 때 변경 사항을 잃지 않도록 도와준다.
```

<br />

```
// 작업 중인 파일에 변경 사항이 있지만 아직 커밋하지 않았다면 (임시 저장)

git stash 
```

```
// 저장된 변경 사항을 복원하려면

git stash pop
```

```
// 저장된 스태시 내용을 확인하려면

git stash show
```

<br />
<br />
<br />

3. 특정 커밋에서 파일 제외시키기(Rebase)

```
작업을 하다 보면 특정 커밋에 원하지 않은 파일까지
추가된 경우가 있다

이럴때 이미 위로 까마득히 커밋이 많이 쌓였다면
어떻게 해야 할까?
```

```
// 백업 브랜치 만들기

git branch <브랜치 이름>
```

```
// 특정 커밋을 기준으로 직전 커밋부터 리베이스 시작

git rebase -i 343b71e^

// 여기서 ^는 343b71e 직전 커밋을 뜻한다.
```

```
// 실행하면 편집기가 열리고 이런 식으로 보일것이다.

ex)
pick 343b71e [AEZ-555] 통합테스트 대응 업데이트
pick 891af9f [AEZ-555] 통합테스트 대응 업데이트
```

```
// 수정할 커밋 선택

ex) 343b71e 옆에 있는 pick을 edit으로 바꾼다.

edit 343b71e [AEZ-555] 통합테스트 대응 업데이트
pick 891af9f [AEZ-555] 통합테스트 대응 업데이트

// 저장하고 편집기를 닫는다.
```

```
// 깃이 343b71e 시점으로 멈추면, 이 커밋에 포함된 파일 중 빼고 싶은 파일을 제외한다.

git show --name-only 343b71e

// 그러면 커밋에 포함된 파일 목록이 나온다.
```

```
// 빼고 싶은 파일을 스테이징에서 제거한다.

ex) 예를 들어, src/file1.txt와 src/file2.txt를 빼고 싶다면
    git reset HEAD^ -- src/file1.txt src/file2.txt

git reset HEAD^ -- <제외할 파일>
```

```
// 남은 파일로 커밋 수정

git commit --amend
```

```
// 리베이스 마무리

git rebase --continue
```
