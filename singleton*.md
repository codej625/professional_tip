# Singleton

<br />
<br />

* 싱글톤이란?

```
싱글톤이란 애플리케이션이 시작될 때 어떤 클래스가 최초 한번만 메모리를 할당하여,
그 메모리에 인스턴스를 만들어 사용하는 디자인 패턴이다.

이로 인해 얻을 수 있는 장점은, 고정된 하나의 메모리를 사용하기 때문에
쓸데없이 같은 일을 하는 여러개의 객체가 메모리를 사용하여 낭비가 일어나는 것을 방지할 수 있다.
```

<br />
<br />
<br />
<br />

1. 장점

```
수십만개의 요청이 올때 요청 갯수만큼 오브젝트를 생성하면 서버가 감당하기 힘들다.

그로인해 서블릿 자바 엔터프라이즈 환경떄 부터 서비스 오브젝트 개념이 사용되어 왔고,
대부분 멀티스레드 환경에서 싱글톤으로 동작하게 된다.

하나의 클래스의 인스턴스화를 1개로 제한하기 때문에
메모리 어디에서 해당 클래스를 불러와도 같은 메모리 주소에 존재하는 인스턴스를 사용하는 것이다.
```

<br />
<br />
<br />

2. 단점

<br />

`1) 상속이 불가능`

```
싱글톤패턴은 생성자를 private으로 제한하여,
오직 해당 클래스에서만 인스턴스를 생성할 수 있다.

또한 해당 클래스는 다른 생성자가 없어 상속이 불가능 하다.
```

<br />

`2) 테스트 불가능`

```
싱글톤은 만들어지는 방식이 제한적이기 때문에 목 오브젝트로 대체도 불가능하다.
(또한 스프링의 특징중 DI를 이용한 객체주입도 사용이 불가능)
```

<br />

`3) 서버환경에서는 싱글톤이 하나만 만들어지는 것을 보장하지 못한다.`

```
서버에서 클래스 로더를 어떻게 구성하느냐에 따라
싱글톤 임에도 하나이상의 오브젝트가 만들어 질 수 있다.

(여러 개의 JVM에 분산돼서 설치 되는 경우 각각 독립적으로 오브젝트가 생성되기 때문에
싱글톤으로서의 가치가 떨어지게 된다.)
```

<br />

`4) 싱글톤의 사용은 전역상태를 만들 수 있다.`

```
싱글톤은 사용하는 클라이언트가 정해져 있지 않다.

언제 어디서든 스테틱 메서드를 이용하여 쉽게 접근할 수 있기 때문에
애플리케이션 어디서든 사용될 수 있고,
자연스럽게 전역상태(global state)로 사용되기 쉽다.

이는 OOP(객체지향프로그래밍)에서 권장되지 않는 프로그래밍 모델이다.
```
