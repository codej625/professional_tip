# Conflict

<br />
<br />

* 깃에서 컨플릭(Conflict), 즉 충돌이 발생하는 주된 이유
---

```
동일한 파일의 동일한 부분을 여러 브랜치에서 서로 다르게 수정하고,
이 브랜치들을 병합(merge)하려고 할 때 발생한다.

깃은 자동으로 이러한 변경 사항들을 통합하는 방법을 알 수 없기 때문에,
사용자에게 충돌을 알려주고 수동으로 해결하도록 요청한다.
```

<br />
<br />
<br />
<br />

1. Conflict 발생 상황

<br />

`1) 동일한 파일의 동일한 줄 수정`

```
1) main 브랜치에서 index.html 파일의 10번째 줄을 <h1>Hello World</h1>로 수정하고 커밋
2) 이후 feature-a 브랜치를 main에서 분기하여 index.html 파일의 같은 10번째 줄을 <h1>Greetings</h1>로 수정하고 커밋
3) 이제 feature-a 브랜치를 main 브랜치로 병합하려고 한다면?

깃은 main 브랜치의 변경(<h1>Hello World</h1>)과 feature-a 브랜치의 변경(<h1>Greetings</h1>) 중
어떤 것을 유지해야 할지 알 수 없으므로 충돌을 발생시킨다.
```

<br />

`2) 동일한 파일의 인접한 줄 수정`

```
1) main 브랜치에서 style.css 파일의 5번째 줄에 color: black;을 추가하고 커밋
2) feature-b 브랜치에서 style.css 파일의 5번째 줄 바로 다음 줄(원래 6번째 줄)에 font-size: 16px;을 추가하고 커밋
3) 이제 feature-b 브랜치를 main 브랜치로 병합하려고 한다면?

깃은 단순히 줄이 추가된 것인지,
아니면 특정 순서로 변경되어야 하는 것인지 판단하기 어려워 충돌이 발생할 수 있다.
(물론 깃이 이 정도의 간단한 변경은 자동으로 처리할 수도 있지만, 복잡한 상황에서는 충돌이 발생할 수 있다).
```

<br />

`3) 파일 삭제 후 다른 브랜치에서 수정`

```
하나의 브랜치에서 파일을 삭제하고,
다른 브랜치에서는 그 파일을 수정했을 때도 충돌이 발생한다.

1) main 브랜치에서 더 이상 필요 없는 old_file.txt 파일을 삭제하고 커밋
2) feature-c 브랜치에서 old_file.txt 파일의 내용을 수정하고 커밋
3) 이제 feature-c 브랜치를 main 브랜치로 병합하려고 한다면?

깃은 삭제된 파일을 수정된 내용으로 다시 생성해야 할지,
아니면 삭제된 상태를 유지해야 할지 알 수 없으므로 충돌이 발생한다.
```

<br />

`4) 파일 이름 변경 후 다른 브랜치에서 수정 또는 삭제`

```
파일 이름을 변경한 브랜치와 해당 파일에 대해 수정 또는 삭제 작업을 수행한
다른 브랜치를 병합할 때도 충돌이 발생할 수 있다.

1) main 브랜치에서 document.txt 파일을 report.txt로 이름을 변경하고 커밋
2) feature-d 브랜치에서 document.txt 파일의 내용을 수정하고 커밋
3) 이제 feature-d 브랜치를 main 브랜치로 병합하려고 한다면?

깃은 document.txt가 report.txt로 이름이 변경된 것을 인식하지 못하고,
수정된 document.txt를 어떻게 처리해야 할지 알 수 없어 충돌이 발생한다.
```

<br />
<br />

```
깃은 기본적으로 라인 단위로 변경 사항을 추적하고 병합을 시도한다.

서로 다른 브랜치에서 동일한 라인 또는 매우 인접한 라인에 대해 서로 다른 변경 사항이 있을 때,
깃은 어떤 변경 사항을 최종적으로 유지해야 할지 자동으로 결정할 수 없기 때문에,
사용자에게 판단을 맡기는 것이다.
```

<br />
<br />
<br />

2. 충돌을 줄이기 위한 방법

<br />

`자주 커밋하고 푸시하기`

```
로컬 변경 사항을 자주 원격 저장소에 반영하여,
다른 팀원들과의 격차를 줄인다.
```

<br />

`병합 전에 최신 변경 사항 가져오기`

```
병합을 시도하기 전에 git pull 명령어를 사용하여,
원격 브랜치의 최신 변경 사항을 로컬 브랜치에 먼저 통합한다.
```

<br />

`기능별 브랜치 사용`

```
각 기능 개발은 독립적인 브랜치에서 진행하고,
완료 후 main 브랜치 등으로 병합하는 워크플로우를 사용한다.
```

<br />

`팀원들과 소통`

```
서로 어떤 부분을 수정하고 있는지 팀원들과 공유하여,
잠재적인 충돌 가능성을 미리 인지한다.
```
